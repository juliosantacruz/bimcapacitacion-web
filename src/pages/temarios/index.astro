---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';
import CourseAccordion from '../../components/react/CourseAccordion';

const temarioEntries = await getCollection('temarios');

const coursesData = temarioEntries.map((temario) => ({
  slug: temario.slug,
  title: temario.data.title,
}));
---

<Layout title="Temarios de Cursos - BIM Capacitación" description="Explora nuestros cursos de Revit y BIM">
  <main>
    <section class="temarios-hero">
      <div class="container">
        <h1>Nuestros <span class="text-gradient">Temarios</span></h1>
        <p class="hero-subtitle">
          Explora el contenido detallado de cada curso y conoce las habilidades
          que desarrollarás durante tu formación
        </p>
      </div>
    </section>

    <section class="temarios-section">
      <div class="container">
        <div class="courses-list">
          {coursesData.map((course, index) => {
            return(
            <a class="course-card" href={`temarios/${course.slug}`}>
              <div class="course-header">
                <h2>{course.title}</h2>
                {/* <p>{course.description}</p> */}
              </div>
              {/* {course.modules.length > 0 && (
                <CourseAccordion
                  client:visible
                  modules={course.modules}
                  courseName={course.title}
                />
              )} */}
            </a>
          )})}
        </div>
      </div>
    </section>
  </main>
</Layout>

<style>
  main {
    padding-top: var(--header-height);
  }

  .temarios-hero {
    padding: 6rem 0 4rem;
    text-align: center;
  }

  .temarios-hero h1 {
    font-size: 3.5rem;
    font-weight: 800;
    margin-bottom: 1rem;
  }

  .hero-subtitle {
    font-size: 1.25rem;
    color: var(--text-secondary);
    max-width: 600px;
    margin: 0 auto;
  }

  .temarios-section {
    padding: 4rem 0 6rem;
  }

  .courses-list {
    display: flex;
    flex-direction: column;
    gap: 3rem;
  }

  .course-card {
    background: var(--bg-card);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-xl);
    padding: 2rem;
    transition: all var(--transition-base);
  }

  .course-card:hover {
    border-color: var(--primary);
    box-shadow: var(--shadow-lg);
  }

  .course-header {
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid var(--border-color);
  }

  .course-header h2 {
    font-size: 1.75rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
  }

  .course-header p {
    color: var(--text-secondary);
    font-size: 1.0625rem;
  }

  @media (max-width: 768px) {
    .temarios-hero h1 {
      font-size: 2.5rem;
    }
  }
</style>
